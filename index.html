<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Grimm Protocol: Viral Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Oswald:wght@300;500&display=swap');

        :root {
            --bg: #000;
            --text: #fff;
            --accent: #ff0050; /* TikTok/Recording Red */
            --secondary: #00f2ea; /* TikTok Cyan */
            --card-face: #111;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Oswald', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* --- HEADER --- */
        .header {
            text-align: center;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .brand-sub {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 5px;
        }

        h1 {
            margin: 0;
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            background: linear-gradient(45deg, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* --- RECORDING INDICATOR --- */
        .rec-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: var(--accent);
            font-weight: bold;
        }

        .rec-dot {
            width: 12px;
            height: 12px;
            background-color: var(--accent);
            border-radius: 50%;
            animation: blink 1.5s infinite;
        }

        /* --- THE CARD --- */
        .scene {
            width: 320px;
            height: 500px; /* Taller for mobile screens */
            perspective: 1000px;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(255, 0, 80, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px;
            box-sizing: border-box;
            background: var(--card-face);
            border: 1px solid #333;
        }

        .card__face--front {
            border: 2px solid var(--accent);
            cursor: pointer;
            background: radial-gradient(circle at center, #222, #000);
        }

        .card__face--back {
            transform: rotateY(180deg);
            border: 2px solid var(--secondary);
            background: #111;
        }

        /* --- CONTENT TYPOGRAPHY --- */
        .fate-title {
            color: #888;
            font-size: 0.9rem;
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .fate-gen-text {
            font-size: 1.4rem;
            text-align: center;
            line-height: 1.4;
            font-weight: 500;
            color: #fff;
            margin-bottom: 15px;
        }

        .constraint-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            text-align: center;
        }

        .constraint-label {
            font-size: 0.7rem;
            color: var(--secondary);
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .constraint-text {
            font-size: 1rem;
            color: #fff;
            font-style: italic;
        }

        /* --- BUTTONS --- */
        .btn-group {
            margin-top: auto;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        button {
            padding: 18px;
            background: transparent;
            border: 1px solid #444;
            color: #fff;
            font-family: 'Oswald', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            text-transform: uppercase;
            font-weight: bold;
            transition: 0.2s;
            border-radius: 8px;
        }

        .btn-main { background: var(--accent); border-color: var(--accent); color: white; }
        .btn-main:active { transform: scale(0.98); }
        
        .btn-fail { border-color: #666; color: #888; }
        
        .share-text {
            margin-top: 20px;
            font-size: 0.8rem;
            color: #666;
            text-align: center;
        }

        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
        
        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="header">
        <div class="brand-sub">LearnTheDarkTV Presents</div>
        <h1>The Grimm Protocol</h1>
    </div>

    <div class="rec-indicator">
        <div class="rec-dot"></div>
        <div>RECORDING IN PROGRESS</div>
    </div>

    <div class="scene">
        <div class="card" id="game-card">
            
            <div class="card__face card__face--front" onclick="drawFate()">
                <div style="font-size:4rem; margin-bottom:10px;">üé•</div>
                <h2 style="font-family:'Cinzel'">START CHALLENGE</h2>
                <p style="opacity:0.6; font-size:0.9rem;">Tap to Generate Content</p>
            </div>

            <div class="card__face card__face--back">
                
                <div id="view-fate" style="width:100%; height:100%; display:flex; flex-direction:column;">
                    <div class="fate-title">Your Scene</div>
                    
                    <div id="fate-main" class="fate-gen-text">...</div>
                    
                    <div class="constraint-box">
                        <div class="constraint-label">Director's Note (Constraint)</div>
                        <div id="fate-constraint" class="constraint-text">...</div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn-main" onclick="completeTask()">‚úÖ Upload / Complete</button>
                        <button class="btn-fail" onclick="failTask()">‚ùå Cut / Fail</button>
                    </div>
                </div>

                <div id="view-curse" class="hidden" style="width:100%; height:100%; display:flex; flex-direction:column; justify-content:center;">
                    <h2 style="color:var(--accent); font-family:'Cinzel'">SCENE RUINED</h2>
                    <p>You broke character. Your punishment:</p>
                    <div id="curse-text" class="fate-gen-text" style="color:var(--secondary)">...</div>
                    <button class="btn-fail" style="margin-top:20px;" onclick="resetCard()">Re-Take Scene</button>
                </div>

            </div>
        </div>
    </div>

    <div class="share-text">
        Post your proof: <strong>#TheGrimmProtocol</strong>
    </div>

    <script>
        // --- THE CONTENT ENGINE (School, Work, Family, Social) ---
        
        const VERBS = [
            "Photobomb", 
            "Narrate the life of", 
            "Do a trending dance behind", 
            "Secretly interview", 
            "Mimic the posture of",
            "Slow-motion walk past",
            "Pretend to be on a chaotic phone call near",
            "Hold a 'Review' of the outfit of",
            "Treat this person like a celebrity:",
            "Stare intensely at the back of the head of",
            "Hide a random object near"
        ];

        const TARGETS = [
            "your Teacher / Boss", 
            "your Mom / Dad", 
            "a Sibling / Coworker", 
            "someone eating lunch", 
            "someone typing on a computer", 
            "the quietest person in the room",
            "a family member watching TV",
            "someone drinking coffee",
            "a stranger (safely)"
        ];

        const CONSTRAINTS = [
            "while zooming in and out repeatedly.", 
            "using the 'Old Age' or 'Sad Face' filter.", 
            "while holding the phone upside down.", 
            "without them looking at the camera.", 
            "while whispering your commentary.", 
            "in 0.5x (Ultrawide) mode.", 
            "while you are trying not to laugh.", 
            "filmed from floor level (Worm's eye view).",
            "while eating a snack loudly."
        ];

        const CURSES = [
            "Duet yourself: Film a video apologizing to the air.",
            "The Mime: You cannot speak in your next video.",
            "The Glitch: You must twitch every 5 seconds for 10 mins.",
            "Filter Lock: You must keep a ridiculous filter on for 10 mins.",
            "The Echo: Repeat the last word of everyone's sentence.",
            "POV: You must narrate everything you do out loud."
        ];

        // --- STATE ---
        let isFlipped = false;

        function generateFate() {
            const verb = VERBS[Math.floor(Math.random() * VERBS.length)];
            const target = TARGETS[Math.floor(Math.random() * TARGETS.length)];
            const constraint = CONSTRAINTS[Math.floor(Math.random() * CONSTRAINTS.length)];

            return {
                main: `${verb} ${target}...`,
                constraint: `${constraint}`
            };
        }

        function drawFate() {
            if(isFlipped) return;

            const fate = generateFate();
            document.getElementById('fate-main').innerText = fate.main;
            document.getElementById('fate-constraint').innerText = fate.constraint;

            document.getElementById('view-fate').classList.remove('hidden');
            document.getElementById('view-curse').classList.add('hidden');

            flipCard(true);
        }

        function completeTask() {
            // Visual feedback for success
            const btn = document.querySelector('.btn-main');
            const originalText = btn.innerText;
            btn.innerText = "SAVED TO REEL";
            btn.style.background = "#00f2ea"; // Cyan
            btn.style.borderColor = "#00f2ea";
            btn.style.color = "#000";
            
            setTimeout(() => {
                resetCard();
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.background = "var(--accent)";
                    btn.style.color = "#fff";
                    btn.style.borderColor = "var(--accent)";
                }, 600);
            }, 800);
        }

        function failTask() {
            const curse = CURSES[Math.floor(Math.random() * CURSES.length)];
            document.getElementById('curse-text').innerText = curse;
            
            document.getElementById('view-fate').classList.add('hidden');
            document.getElementById('view-curse').classList.remove('hidden');
        }

        function resetCard() {
            flipCard(false);
        }

        function flipCard(flip) {
            const card = document.getElementById('game-card');
            if(flip) {
                card.classList.add('is-flipped');
                isFlipped = true;
            } else {
                card.classList.remove('is-flipped');
                setTimeout(() => { isFlipped = false; }, 600);
            }
        }
    </script>
</body>
</html>
