<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Grimm Protocol | LearnTheDarkTV</title>
    <style>
        :root {
            --bg-color: #0a0a0a;
            --text-color: #e0e0e0;
            --accent-gold: #d4af37;
            --accent-red: #8b0000;
            --accent-green: #2e8b57;
            --card-bg: #1a1a1a;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Georgia', serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
        }

        .container {
            width: 90%;
            max-width: 500px;
            padding: 20px;
        }

        .header {
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent-gold);
        }

        .mode-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        button {
            background: transparent;
            color: var(--text-color);
            border: 1px solid var(--text-color);
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Georgia', serif;
            text-transform: uppercase;
            font-size: 0.8rem;
        }

        button:hover {
            background: var(--text-color);
            color: var(--bg-color);
        }

        .spicy-btn {
            border-color: var(--accent-red);
            color: var(--accent-red);
        }

        #game-screen {
            display: none;
            background: var(--card-bg);
            border: 2px solid var(--accent-gold);
            padding: 40px;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.1);
        }

        .mission-text {
            font-size: 1.4rem;
            margin: 20px 0;
            min-height: 120px;
            line-height: 1.6;
        }

        .consequence-text {
            font-style: italic;
            color: var(--accent-red);
            margin-top: 15px;
            font-size: 0.85rem;
            border-top: 1px solid #333;
            padding-top: 15px;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--accent-gold);
            letter-spacing: 1px;
            margin-bottom: 20px;
        }

        .controls {
            margin-top: 30px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
    </style>
</head>
<body>

    <div class="container" id="menu-screen">
        <h1 class="header">The Grimm Protocol</h1>
        <p style="font-size: 0.9rem; margin-bottom: 30px;">Choose your path. Reach Level 8 to become The Icon.</p>
        
        <div class="mode-selector">
            <button onclick="startGame('toddler')">Toddler</button>
            <button onclick="startGame('family')">Family</button>
            <button onclick="startGame('friends')">Friends</button>
            <button onclick="startGame('grandparents')">Grandparents</button>
            <button onclick="startGame('couple_funny')">Couple (Decision)</button>
            <button class="spicy-btn" onclick="startGame('couple_spicy')">Couple (After Dark)</button>
        </div>
        <p style="font-size: 0.7rem; color: #555; margin-top: 40px;">Part of the LearnTheDarkTV Portfolio</p>
    </div>

    <div class="container" id="game-screen">
        <div class="stats">
            <span id="rank-display">RANK: NOVICE</span>
            <span id="strikes-display">STRIKES: ○ ○ ○</span>
        </div>

        <div class="mission-text" id="mission-box"></div>
        <div class="consequence-text" id="consequence-box"></div>

        <div class="controls">
            <button onclick="completeFate()" style="border-color: var(--accent-green); color: var(--accent-green);">Complete</button>
            <button onclick="failFate()" style="border-color: var(--accent-red); color: var(--accent-red);">I Failed</button>
        </div>
        <br>
        <button onclick="exitGame()" style="font-size: 0.6rem; opacity: 0.6;">EXIT PROTOCOL</button>
    </div>

    <script>
        const missionData = {
            toddler: {
                actions: [{t:"Hop like a", g:"animal"},{t:"Find something", g:"color"},{t:"Touch your", g:"body"},{t:"Wave at a", g:"obj"},{t:"Sound like a", g:"animal"},{t:"Point to something", g:"color"},{t:"Wiggle your", g:"body"},{t:"Hug a", g:"obj"},{t:"Spin toward a", g:"color"},{t:"Act like a", g:"animal"},{t:"Tap a", g:"obj"},{t:"Rub your", g:"body"},{t:"Dance with a", g:"obj"}],
                targets: [{t:"frog", g:"animal"},{t:"blue", g:"color"},{t:"nose", g:"body"},{t:"soft toy", g:"obj"},{t:"lion", g:"animal"},{t:"red", g:"color"},{t:"elbow", g:"body"},{t:"wall", g:"obj"},{t:"yellow", g:"color"},{t:"monkey", g:"animal"},{t:"couch", g:"obj"},{t:"tummy", g:"body"},{t:"stuffed bunny", g:"obj"}],
                consequence: "Failure: You have to do the 'Silly Wiggle' for 30 seconds."
            },
            family: {
                actions: [{t:"Act out a scene from", g:"mov"},{t:"Sing a song about", g:"top"},{t:"Start a game of", g:"act"},{t:"Quote a line from", g:"mov"},{t:"Hum the theme of", g:"top"},{t:"Organize a quick", g:"act"},{t:"Describe a", g:"mov"},{t:"Draw a", g:"top"},{t:"Play a round of", g:"act"},{t:"Guess the favorite", g:"top"},{t:"Review the movie", g:"mov"},{t:"Whistle a", g:"top"},{t:"Invent a", g:"act"}],
                targets: [{t:"Toy Story", g:"mov"},{t:"pizza", g:"top"},{t:"Hide and Seek", g:"act"},{t:"The Lion King", g:"mov"},{t:"dinosaurs", g:"top"},{t:"Tag", g:"act"},{t:"Star Wars", g:"mov"},{t:"a flying car", g:"top"},{t:"Simon Says", g:"act"},{t:"ice cream flavor", g:"top"},{t:"Frozen", g:"mov"},{t:"rainy day", g:"top"},{t:"thumb war", g:"act"}],
                consequence: "Failure: You must clean up all the shoes in the entryway."
            },
            friends: {
                actions: [{t:"Text an emoji to", g:"soc"},{t:"Post a weird word on", g:"pla"},{t:"Call a contact and say", g:"soc"},{t:"Show a random photo to", g:"soc"},{t:"DM a funny gif to", g:"soc"},{t:"Let the group pick a word for", g:"pla"},{t:"Show your first photo to", g:"soc"},{t:"Speak only in rhymes to", g:"soc"},{t:"React to the last post on", g:"pla"},{t:"Hide a secret photo from", g:"soc"},{t:"Send a voice note to", g:"soc"},{t:"Update your status on", g:"pla"},{t:"Ask a weird question to", g:"soc"}],
                targets: [{t:"the 3rd person in your list", g:"soc"},{t:"X (Twitter)", g:"pla"},{t:"your last missed call", g:"soc"},{t:"Instagram", g:"pla"},{t:"your best friend", g:"soc"},{t:"Facebook", g:"pla"},{t:"the person to your left", g:"soc"},{t:"Threads", g:"pla"},{t:"the oldest person here", g:"soc"},{t:"Discord", g:"pla"},{t:"your sibling", g:"soc"},{t:"Snapchat", g:"pla"},{t:"the host", g:"soc"}],
                consequence: "Failure: You have to buy the next round of snacks."
            },
            grandparents: {
                actions: [{t:"Tell the story of", g:"era"},{t:"Explain how to use a", g:"item"},{t:"Describe your favorite", g:"era"},{t:"Show how to fix a", g:"item"},{t:"Compare today to", g:"era"},{t:"Name the purpose of a", g:"item"},{t:"Recount a lesson from", g:"era"},{t:"Find a use for a", g:"item"},{t:"Name a friend from", g:"era"},{t:"Describe seeing a", g:"item"},{t:"Hum a tune from", g:"era"},{t:"Polish a", g:"item"},{t:"Draw a map of", g:"era"}],
                targets: [{t:"the summer of '69", g:"era"},{t:"rotary phone", g:"item"},{t:"the 1950s", g:"era"},{t:"typewriter", g:"item"},{t:"the late 70s", g:"era"},{t:"record player", g:"item"},{t:"the 1940s", g:"era"},{t:"sewing machine", g:"item"},{t:"the disco era", g:"era"},{t:"cassette tape", g:"item"},{t:"the jazz age", g:"era"},{t:"pocket watch", g:"item"},{t:"the 1980s", g:"era"}],
                consequence: "Failure: You have to write a hand-written 'thank you' note to someone tomorrow."
            },
            couple_funny: {
                actions: [{t:"Do the dishes for", g:"tim"},{t:"Give a foot rub for", g:"tim"},{t:"Vacuum the house for", g:"tim"},{t:"Fold the laundry for", g:"tim"},{t:"Cook the next meal for", g:"tim"},{t:"Clean the bathroom for", g:"tim"},{t:"Walk the pet for", g:"tim"},{t:"Rub their shoulders for", g:"tim"},{t:"Pay for takeout for", g:"tim"},{t:"Take out the trash for", g:"tim"},{t:"Mop the kitchen for", g:"tim"},{t:"Organize the closet for", g:"tim"},{t:"Wash the car for", g:"tim"}],
                targets: [{t:"the next 24 hours", g:"tim"},{t:"one full week", g:"tim"},{t:"the next three days", g:"tim"},{t:"the entire weekend", g:"tim"},{t:"the rest of the day", g:"tim"},{t:"tomorrow morning", g:"tim"},{t:"the next two nights", g:"tim"},{t:"the next week", g:"tim"},{t:"tonight only", g:"tim"},{t:"the next month", g:"tim"},{t:"four consecutive days", g:"tim"},{t:"the upcoming holiday", g:"tim"},{t:"the next 48 hours", g:"tim"}],
                consequence: "Failure: You owe the winner a 15-minute back rub and a hot bath tonight."
            },
            couple_spicy: {
                actions: [{t:"Trace a line on their", g:"sen"},{t:"Lightly bite their", g:"sen"},{t:"Whisper a secret into their", g:"sen"},{t:"Blindfold and touch their", g:"sen"},{t:"Kiss their", g:"sen"},{t:"Lick their", g:"sen"},{t:"Describe a fantasy about their", g:"sen"},{t:"Use an ice cube on their", g:"sen"},{t:"Reveal a secret about their", g:"sen"},{t:"Breathe heavily on their", g:"sen"},{t:"Nibble on their", g:"sen"},{t:"Seduce their", g:"sen"},{t:"Stroke their", g:"sen"}],
                targets: [{t:"collarbone", g:"sen"},{t:"lower back", g:"sen"},{t:"earlobe", g:"sen"},{t:"inner thigh", g:"sen"},{t:"neck", g:"sen"},{t:"fingertips", g:"sen"},{t:"shoulder blades", g:"sen"},{t:"belly button", g:"sen"},{t:"palm", g:"sen"},{t:"knee", g:"sen"},{t:"jawline", g:"sen"},{t:"wrist", g:"sen"},{t:"hairline", g:"sen"}],
                consequence: "Failure: You are responsible for every diaper change and early wake-up call tomorrow."
            }
        };

        let currentMode = '', strikes = 0, rank = 1;
        const ranks = ["NOVICE", "APPRENTICE", "INITIATE", "ACOLYTE", "GUARDIAN", "SENTINEL", "ELDER", "THE ICON"];

        function startGame(mode) {
            if (mode === 'couple_spicy' && !confirm("Warning: Adult Content (18+). Continue?")) return;
            currentMode = mode; strikes = 0; rank = 1;
            document.getElementById('menu-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            updateDisplay(); generateFate();
        }

        function generateFate() {
            const mode = missionData[currentMode];
            const randomAction = mode.actions[Math.floor(Math.random() * mode.actions.length)];
            const validTargets = mode.targets.filter(t => t.g === randomAction.g);
            const randomTarget = validTargets[Math.floor(Math.random() * validTargets.length)];
            document.getElementById('mission-box').innerText = `${randomAction.t} ${randomTarget.t}.`;
            document.getElementById('consequence-box').innerText = mode.consequence;
        }

        function completeFate() {
            if (rank < 8) { rank++; generateFate(); updateDisplay(); } 
            else { alert("ASCENSION COMPLETE! You are THE ICON."); exitGame(); }
        }

        function failFate() {
            strikes++;
            if (strikes >= 3) { alert("EXILED. You have failed the protocol."); exitGame(); } 
            else { updateDisplay(); generateFate(); }
        }

        function updateDisplay() {
            document.getElementById('rank-display').innerText = `RANK: ${ranks[rank - 1]}`;
            document.getElementById('strikes-display').innerText = `STRIKES: ${"● ".repeat(strikes)}${"○ ".repeat(3 - strikes)}`;
        }

        function exitGame() {
            document.getElementById('menu-screen').style.display = 'block';
            document.getElementById('game-screen').style.display = 'none';
        }
    </script>
</body>
</html>
